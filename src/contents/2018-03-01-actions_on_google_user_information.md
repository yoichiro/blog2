---
layout: actions_on_google
title: Identity "User Information"の日本語訳です
categories:
- actions on google
---
Googleアシスタント向けアプリでは、そのアプリを利用するユーザの情報を利用したくなる時があります。それは、名前や住所などです。それらを使うことで、よりパーソナライズされた機能を提供することができるようになります。

Actions on Googleのドキュメントにある
[Identity - User Information](https://developers.google.com/actions/identity/user-info)にて、
Googleアシスタント向けアプリが使えるユーザ情報が説明されています。以下はその日本語訳です。

---

# ユーザ情報

あなたのアプリにおいて、ユーザーの場所、名前、およびユーザーの固有のIDにアクセスすることで、より良い、よりパーソナライズされた体験を提供することができます。以下のセクションでは、取得できる情報について説明します。

## 匿名のユーザアイデンティティ

あなたが独自のアカウントシステムを持っていなくても、会話や端末間で、匿名でユーザーを識別できます。これは、認証システムをメンテナンスするオーバーヘッドなしに、ユーザーに関する基本的な状態（プリファレンスやアクションにアクセスした回数など）を保存する場合に便利です。これは、ウェブブラウザのクッキーとよく似ていますが、デバイス間で同じユーザーに一貫している点が異なります。

しかし、クッキーのように、ユーザはこの識別子をリセットすることができます。よって、リセットされるとその情報にユーザがアクセスすることができなくなるため、重要なユーザデータをこの識別子で保存しないでください。次のリストは、ユーザーIDの動作を示しています。

* **音声で操作可能なスピーカー**
  * **音声が一致した時** - 音声がデバイスの登録済み音声プロファイルと一致する場合、一貫したユーザーIDが返されます。登録された各ユーザーには、デバイスとの会話に関連付けられた、異なる一貫したユーザーIDがあります。
  * **音声と一致しない時** - 登録されたユーザーの音声がデバイスによって認識されないか、または登録された音声が存在しない場合、その会話に固有の異なるIDが使用されます。
* **Android携帯端末** - ユーザーIDは、Googleアプリの有効なGoogleアカウントに対応し、同じままです。 これらのすべてのケースが満たされている場合は、AndroidデバイスのユーザーIDも音声対応のスピーカーのユーザーIDと同じになります。
  * ユーザーのGoogleアカウントが、両方の端末で同じである。
  * 音声で操作可能なスピーカーで登録された音声のユーザである。
  * 音声で操作可能なスピーカーで照合された音声のユーザである。
* **アクションコンソールシミュレータ** - ここでのユーザIDは、シミュレートされるサーフェスによって異なります。 それは会話を通して一貫しています。
  * **電話機のサーフェス** ユーザーIDは、コンソールにおいてアクティブなGoogleアカウントに対応します。
  * **スピーカーのサーフェス** ユーザーIDは、音声プロファイルに従って確認されたように機能します。
* **言語** - ユーザーIDは言語間で一貫しているため、ユーザーが異なる言語でクエリを発行する（認識される）場合でも、各言語に対して同じユーザーIDを受け取ります。
* **ユーザーIDの有効期間** - ユーザーIDは、30日間使用しないと自動的にリセットされるか、ユーザーがデバイスでアカウントのリンクを解除すると自動的にリセットされます。

Node.jsクライアントライブラリを使用している場合は、 [`getUser().userId`](https://developers.google.com/actions/reference/nodejs/AssistantApp#getUser) を参照してください。 未処理のJSONを構築する場合は、会話webhookリクエストの [`User`](https://developers.google.com/actions/reference/rest/Shared.Types/AppRequest#user) を参照してください。

## ユーザ名と位置

ユーザーから名前と住所情報を要求することができます。通常、自然言語処理では入手が困難です。アシスタントには、ユーザーにこの情報を要求し、情報の提供に同意するための組み込みのダイアログが用意されています。そして、フルフィルメントエンドポイントへの次の要求の情報を提供します。

ユーザーの完全な名前と場所を要求する方法の詳細については、[user information helper](https://developers.google.com/actions/assistant/helpers#user_information)を参照してください。

> **注:** 会話中にGoogleカレンダーや連絡先にアクセスするなど、Google OAuthのスコープをリクエストすることは現在サポートされていません。

---

[Creative Commons Attribution 3.0 License](http://creativecommons.org/licenses/by/3.0/)
[原文](https://developers.google.com/actions/identity/user-info)
