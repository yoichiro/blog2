---
layout: actions_on_google
title: Actions on Googleの「GET STARTED - Basics」の日本語訳を作ってみました
categories:
- actions on google
---
Google Homeがついに日本でも発売が開始されました。Google Homeは、Googleアシスタントと声でやりとりすることができるデバイスです。そして、開発者としては、Googleアシスタントに自作のアクションを登録できることに注目すべきですし、その作り方に興味を持つことでしょう。その作り方は、[Actions on Google](https://developers.google.com/actions/)というサイトにまとめられています。

自作アクションを作るために最初に読むべきドキュメントである[GE STARTED - Basics](https://developers.google.com/actions/extending-the-assistant)を日本語訳してみたので、以下に紹介したいと思います。

---

# Googleアシスタントの拡張

***Googleアシスタント*** は、自分の世界において片付けることをを見つけ、整理することを手伝ってくれる、パーソナルなGoogleを提供します。ユーザーがGoogleアシスタントとやりとりする主な方法は、Googleアシスタントと会話することです。

<iframe class="devsite-embedded-youtube-video" data-autohide="1" data-showinfo="0" frameborder="1" allowfullscreen="" id="ytplayer0" data-enablejsapi="1" src="//www.youtube.com/embed/FPfQMVf4vwQ?autohide=1&amp;showinfo=0&amp;enablejsapi=1" origin="https://developers.google.com" style="border: 0;"></iframe>

***アプリ*** は、ユーザがあなたの商品やサービスに対して物事を成し遂げるための ***アクション*** を構築することで、Googleアシスタントを拡張します。

伝統的なモバイルやデスクトップアプリとは異なり、会話による自然なやりとりの交換を介して、ユーザはアシスタント向けのアプリと交流します。それは、伝統的ではないコンピュータ中心のパラダイムです。

アシスタント向けのアプリケーションを作成するときは、音声で起動するスピーカーの音声中心の会話やAndroidの電話機の視覚的な会話など、さまざまなサーフェスの会話をデザインします。これにより、ユーザーは、音声やディスプレイのアフォーダンスを使用して、希望どおりに物事を成し遂げることができます。

[会話UIについてもっと知りたい場合はこちら](https://developers.google.com/actions/design/)

## アシスタントにてActions on Googleがどのように機能するか

ユーザーが実行するアクションを要求すると、

1. アシスタントは、Actions on Googleに、インテントを達成するために最適なアプリを呼び出すように求めます。
1. Actions on Googleは、アプリのフルフィルメントにリクエストを送信し、アシスタントに伝達するレスポンスを受け取ります。
1. アシスタントは、UIでレスポンスをレンダリングし、ユーザーに表示します。ユーザーとアプリの会話が始まります。
1. アシスタントは、その後のユーザー入力をアプリに直接送信し、アプリはアシスタントに直接応答します。この会話は、アプリが目的を達成するために必要なユーザー入力を収集するまで、続きます。

ここでは、Geeknumという仮想の小売店のアプリでどのように動作するかの例を示します。

1. ユーザーはアシスタントと会話し、「I want to learn about numbers」というアクションを要求します。アシスタントは、Actions on Googleに対して、アクションを処理するための最適なアプリを見つけようとします。Actions on Googleは、「Geeknum」という名前のアプリを返します。
1. アシスタントは、Geeknumアプリを呼び出すかどうかをユーザに確認し、「Yes」と答えます。アシスタントはGeeknumを導入し、ユーザーをGeeknumアプリに伝達します。
1. アプリはウェルカムメッセージを表示し、ユーザーと会話が始まります。
1. 会話中、アシスタントはユーザとGeeknumとの間の会話とその2つのやりとりの情報を仲介するので、Geeknumはその目的を達成するために必要な情報を収集することができます。
1. 最後に、ユーザーが数字の学習を終えると、会話が終了します。

![](https://developers.google.com/actions/images/geeknum-conversation.svg){:height="400px"}


# あなたのアプリをデザインする方法

会話型インターフェイスはデザインにとって今までにないものである可能性が高いため、アプリを構築する際には、私たちの設計プロセスとベストプラクティスを検討することを強くお勧めします。 また、あなたが承認レビューに提出したときに、あなたのアプリが承認される可能性を高める良いチャンスをあなたに与えます。

それは多くの先行作業のように思えるかもしれませんが、コーディングと同じくらい重要な実施としてアクションの会話をデザインすることで、アプリの品質は飛躍的に向上します。

> **フルデザインのウォークスルーを参照ください**
>
> このガイドでは、Googleアシスタントのアプリを設計するための[推奨プロセス](https://developers.google.com/actions/design/walkthrough)の概要を簡単に紹介します。また、準備が整い次第、手助けとなる[設計リソース](https://developers.google.com/actions/design)も用意されます。

## ユースケースを選ぶ

会話型インターフェイスは、次の一般的なカテゴリに分類されるユースケースに最適です。

* **人々がパッと思いついて答えることができること。** 時間や日付のような使い慣れた入力で達成できるアクション。
* **迅速に、しかし説得力のある有益な行為。** これらは、通常、商品をすばやく注文するなど、ごくわずかな時間で多くのメリットをユーザに提供します。
* **本質的に声に適したアクション。** これらは、通常、料理中にレシピを聞くことや、運転中に記憶に留めるなど、ハンズフリーでやりたいことです。

## ペルソナを作成する

ペルソナはあなたの会話をデザインし、記述するのを手伝ってくれるので、正しい単語、構文、構造を簡単に選ぶことができるように、早めに選択してください。ペルソナは、幸せ、悲しみ、自己嫌悪感、フォーマル、そして何かの中間にあるものまで、多岐にわたります。

覚えておいてください。あなたが1つ以上計画しているかどうかに関わらず、ユーザはペルソナを認識するので、偶然に任せず、あなたが認識させたいと思うような方法で体験を構築することをお勧めします。

あとで、あなたはいくつかのダイアログ（対話）や会話を構成するさまざまな小片を書くことになります。 それらを行う際に、いくつかのペルソナを試し、そしていくつかのダイアログをそれぞれ書くことで、何が最も効果的かを見てみてください。

**TTSの声。** _あなたのアクションをデプロイするときには、あなたのアクションに合わせてTTSの声を選ぶこともできます。 これらの音を聞いてください！_

<table>
  <tbody><tr>
    <th>声</th>
    <th>サンプル</th>
  </tr>
  <tr>
    <td>男性 1</td>
    <td>
      <audio controls="">
        <source src="https://developers.google.com/actions/downloads/tts-voices/male1-demo1.mp3" type="audio/mp3">
        <p>Your user agent does not support the HTML5 Audio element.</p>
      </audio>
      </td>
  </tr>
  <tr>
    <td>男性 2</td>
    <td>
      <audio controls="">
        <source src="https://developers.google.com/actions/downloads/tts-voices/male2-demo1.mp3" type="audio/mp3">
        <p>Your user agent does not support the HTML5 Audio element.</p>
      </audio>
     </td>
  </tr>
  <tr>
    <td>女性 1</td>
    <td>
      <audio controls="">
        <source src="https://developers.google.com/actions/downloads/tts-voices/female1-demo1.mp3" type="audio/mp3">
        <p>Your user agent does not support the HTML5 Audio element.</p>
      </audio>
    </td>
  </tr>
  <tr>
    <td>女性 2</td>
    <td>
      <audio controls="">
        <source src="https://developers.google.com/actions/downloads/tts-voices/female2-demo1.mp3" type="audio/mp3">
        <p>Your user agent does not support the HTML5 Audio element.</p>
      </audio>
      </td>
  </tr>
</tbody></table>

## アプリ名を考える

あなたの呼び出し名は、ユーザーがあなたのアプリを呼び出す主要な方法です。そのため、良い名称を選ぶことが非常に重要です。アプリ名が発音しにくい、他の単語のように聞こえる、Googleでうまく認識できない場合は、ユーザーがアプリを起動するのが難しくなる可能性があります。あなたのペルソナとブランドを反映する名前を考え始めることを、ガイドラインでは支持しています。

> **注:** _実際にアプリを承認レビューのために送信する前では、Actions on Googleでアプリ名の予約が保証されるわけではありません。これにより、実際にビルドすることなく、ユーザーが不当占拠して予約することを防ぎます。_

## 複数のサーフェスで動作するダイアログを作成する

いくつかのユースケースを選択してペルソナを決定した今、開発に飛びつくよう誘惑されているかもしれませんが、その衝動に耐えてください！代わりに、あなたの会話を構成するダイアログを鉛筆と紙で（またはすばやく書ける何かで）書き留めることから始めます。

オーディオサポート、ディスプレイサポート、またはその両方を備えたデバイスで機能する必要のあるUIをデザインする場合は、最初に音声会話を書き留めておくことをおすすめします。音声会話を書くことで、オーディオのみの体験に必要なすべてのダイアログが与えられ、そこからカード、リスト、その他のアフォーダンスなどの視覚的な機能を補完することで、画面上の体験を向上させることができます。

サンプルダイアログを書く場合は、次のシナリオを考慮に入れてください。

* あまり複雑ではなく、最も簡単な方法でアクションを達成する「幸せなパス」。
* ユーザーが「ハッピーパス」と同じ結末になるために必要な追加パス。
* ユーザーが予期せぬことを行う会話の修復シナリオ。たとえば、サポートしていないものや理解できないものを行うよう要求するなどです。
* ユーザーが会話の途中で終了するダイアログ、または必要な操作を行ったときにユーザーが終了するダイアログ。
* あなたのアプリが呼び出されたときに、ユーザを迎える方法のバリエーション。

# あなたのアプリを構築する方法

アプリはいくつかのシンプルなコンポーネントで構成されています：

**Actions on Googleデベロッパープロジェクト**

承認プロセスを通じてアプリを追跡および管理し、あなたのアクションを運営することができます。また、アプリのアナリティクスと、アクションのシミュレータにアクセスすることで、物理デバイスなしでアプリをテストすることもできます。

**アクションパッケージ**

Googleアシスタントがあなたのアクションを呼び出す方法や、Googleアシスタントがあなたのフルフィルメントサービスを呼び出す方法など、アプリ内のアクションに関するメタデータを定義します。

**フルフィルメント**

アプリケーションの実際の機能を定義し、HTTPウェブサービスとしてホストされます。ユーザーがアクションを操作すると、フルフィルメントはユーザーからのリクエストを受け取り、Googleアシスタントがコミュニケーションを仲介してレスポンスを返します。 コミュニケーション形式は、アクションプロトコル（あなたのアクションがどのようにGoogleアシスタントと通信が可能かをJSONベースで定義）によって定義されます。

## 開発オプションの選択

アプリを作成するには、いくつかの方法があります：

**テンプレート**

テンプレートを使用してアプリケーションを構築すると、テンプレートで定義された標準のユーザー体験を活用できます。特定のレスポンスや設定など、アプリの一部をカスタマイズすることができますが、アプリの会話とフルフィルメントのほとんどはテンプレートによって処理され、1行のコードを書くことなくアプリを構築できます！

ニーズに合ったテンプレートがあれば、それらのテンプレートのいずれかを使用することを強くお勧めします。これにより、開発の難しい部分の1つである会話の設計について心配することなく、迅速にアプリケーションを構築できます。

[テンプレートを使って構築](https://developers.google.com/actions/templates/)

**Dialogflow**

独自の会話体験をデザインして構築する必要があるほとんどのユースケースで、Dialogflowを使用します。Dialogflowは、アクションパッケージの生成やデプロイなどの便利な機能を備えた使いやすいウェブIDEに、Actions SDKの機能をラップします。また、自然言語および人間の言語を解析するNLU（自然言語理解）エンジンも含まれているため、自然言語処理を自分で構築する必要はありません。

[Dialogflowを使って構築](https://developers.google.com/actions/dialogflow/first-app)

**Actions SDK**

ユーザー入力のばらつきが限られている非常に短い会話を持つ単純なアクションがある場合は、このオプションを使用します。これらのタイプのアクションは、通常、堅牢な言語理解を必要とせず、典型的には1つの迅速なユースケースを達成します。

また、すでにNLUを使用していて、生のテキストを受け取って自分のNLUに渡すだけの場合は、アクションSDKを使用することになるでしょう。

最後に、Actions SDKはIDEの利便性を提供しないため、テキストエディタでアクションパッケージを手動で作成し、コマンドラインユーティリティを使用してGoogleデベロッパープロジェクトにデプロイする必要があります。

[ACTIONS SDKを使用して構築する](https://developers.google.com/actions/sdk)

## あなたのアクションをテストする

### 実際のデバイスを使用する

開発中やアプリをデプロイする前に、あなたはGoogleホームやGoogle Pixelなどの実際のデバイスで常にテストすべきです。これにより、アプリのユーザーエクスペリエンスを体験することで、アプリのユーザーエクスペリエンスがどれだけうまく設計されているかをよりよく理解できます。

![](https://developers.google.com/actions/images/pixel_googlehome.png){:height="300px"}

[GOOGLE STOREで購入する](https://store.google.com/)

### アクションシミュレータを使用する

開発時には、シミュレータを使用してテストするのが便利です。デバッグ情報や生のHTTPリクエストやレスポンスへのアクセスなどの開発者の利便性を提供するためです。また、シミュレータを使用すると、仮想サーフェスを簡単に切り替えることができます（電話機や音声で起動するスピーカーなど）。さまざまなデバイスでの操作の仕組みを確認したり、テキストや音声でユーザー入力を指定したりできます。

ビルドを開始するときに、アクション・コンソールからウェブシミュレータにアクセスできます。

![](https://developers.google.com/actions/images/actions-sim.png){:height="400px"}

[アクションコンソールに移動する](https://console.actions.google.com/)

# アプリ配信のしくみ

ユーザーがアシスタントにあなたのアクションを呼び出すために、アプリをインストールする必要はありません。ただし、すべてのアプリはユーザーが発見して呼び出す前に承認されている必要があります。承認されると、ユーザーはさまざまな方法でアクションを呼び出すことができます。そして、ユーザーのアクションをより良くするために、アプリがどのように使用されているかをトラッキングして分析するための指標を提供します。

## ユーザーがアクションを発見し呼び出す方法

ユーザーがアクションを発見して呼び出す方法は、長期的な成功のために非常に重要です。独自のアプリ名とアクションフレーズを定義することで、これらの変数を制御できます。これがどのように機能するかをよりよく理解するために、次の例では、ユーザーがGeekNumという架空のアプリを呼び出す方法を示しています。

### 呼び出し方法

**アプリ名で**

ユーザーは、「_Ok Google, talk to **Geek Num**_」や「_Ok Google、speak to **Geek Num**_」などと言って、明示的な名前によってアプリを呼び出します。

**アプリ名とアクションフレーズで**

ユーザーは、「_Ok Google, talk to **Geek Num** to **learn about the number 42**_」のように言うことで、明示的にアクションフレーズを伴う名前によってアプリを呼び出します。

### 発見方法

**アクションフレーズで**

ユーザーは、「_Ok Google, learn about the number 42_」などと言ってアプリを発見します。アシスタントは、あなたがこのアクションを処理できることを知っていて、「_For that, try saying 'Ok Google, let me talk to **Geek Num**'_」と言います。アクションフレーズは、アプリが優れている特定の差別化されたアクションをサポートすることによって、アプリの利用を増やすための簡単で強力な方法を提供します。

**アシスタントディレクトリ**

ユーザーは、モバイルアプリディレクトリ上で、利用したいアプリをブラウズして見つけ出すことができます。アプリリストには、アプリの説明、利用可能なサーフェス、サンプル呼び出し、評価などが表示されます。

**あなたのウェブサイトで**

私たちのディレクトリのウェブまたはモバイル版のアプリリストへのリンクを提供することで、アプリを宣伝して利用を促進することができます。アクションのためのトラフィックとランキングを増やすために、あなたのアプリ体験がどんなものであるかについて、良い説明を書き、そして素晴らしいイメージを提供する必要があります。

![](https://developers.google.com/actions/images/geeknum-hq-1.svg){:height="400px"}

[発見や呼び出しについてもっと知る](https://developers.google.com/actions/discovery)

## サポートされるサーフェス

アクションコンソールでアプリに必要な機能を設定します。アクションコンソールでは、アプリを起動できるサーフェスを制御できます。さらに、ランタイム機能を使用することで、デバイスに基づいて異なるレスポンスや会話を提供することもできます。

[サーフェスについてもっと知る](https://developers.google.com/actions/assistant/surface-capabilities)

## 承認のためにアプリを提出する

Actions on Googleコンソールは、アプリを追跡して管理するプロジェクトを作成し、開発プロセスを開始する場所です。また、開発中にアクションコンソールを使用して、アクションシミュレータにアクセスしてアプリをテストできます。

そして、承認のためにアクションをデプロイして提出する準備ができたら、承認のためにアプリを提出し、アクションコンソールでそのアプリを管理します（フルフィルメントが機能していることを確認してください！）。ここでは、アプリの名前や発音、アプリが表示されるサーフェスなどを指定します。

あなたのアプリを提出するとき、私たちのレビュアーはそれを使用してテストし、問題、バグ、またはポリシー違反を見つけます。迅速な承認を得るために、承認のためにアプリを提出する前に[チェックリスト](https://developers.google.com/actions/distribute/)を用意しています。

![](https://developers.google.com/actions/images/aog-project-basics.png){:height="300px"}

[コンソールについてもっと知る](https://developers.google.com/actions/console/setup-and-developing)

## アプリ統計の表示

アクションコンソールには、アプリが公開された後の利用、稼働、および発見に関する統計が表示されます。エンゲージメントを高める方法を分析するために、会話の量、会話の中断率の長さ、エラー率などの統計情報を表示します。

![](https://developers.google.com/actions/images/analytics-usage.png){:height="400px"}

[統計についてより深く学ぶ](https://developers.google.com/actions/console/analytics)

---

[Creative Commons Attribution 3.0 License](http://creativecommons.org/licenses/by/3.0/)
[原文](https://developers.google.com/actions/extending-the-assistant)
