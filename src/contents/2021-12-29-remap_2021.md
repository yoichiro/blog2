---
layout: post
title: 2021年のRemapを振り返る
categories:
- keyboard
---

今では多くの方々に愛用していただいている「 [Remap](https://remap-keys.app/) 」ですが、正式公開は 2021年3月3日、つまり今年のひな祭りの日だったみたいです。

<blockquote class="twitter-tweet"><p lang="ja" dir="ltr">Chrome 89 Stableがリリースされて、Remapを利用することができるようになりました。このタイミングでRemapの一般公開を宣言したいと思います！ウェブブラウザからキーボードのキーマップやLEDの変更をぜひ体験してみてください。 <a href="https://t.co/JJ2CKnu3bP">https://t.co/JJ2CKnu3bP</a> <a href="https://twitter.com/hashtag/remap?src=hash&amp;ref_src=twsrc%5Etfw">#remap</a> <a href="https://twitter.com/hashtag/%E8%87%AA%E4%BD%9C%E3%82%AD%E3%83%BC%E3%83%9C%E3%83%BC%E3%83%89?src=hash&amp;ref_src=twsrc%5Etfw">#自作キーボード</a> <a href="https://t.co/b7ceMqCAdq">pic.twitter.com/b7ceMqCAdq</a></p>&mdash; Yoichiro Revision 2.5 (@yoichiro) <a href="https://twitter.com/yoichiro/status/1366920806027026433?ref_src=twsrc%5Etfw">March 3, 2021</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

Remap の開発の第一歩は、2020年12月14日 だったみたいです。

[Initial commit. · remap-keys/remap@d3318ee](https://github.com/remap-keys/remap/commit/d3318eeb30206b9ba196fe541a6c090b2005bac1)

これを書いている今日は 2021年12月29日 ですので、Remap の開発着手から1年ちょい経過していることになります。感覚的にはもっと長く作ってきた気がしますが、まだ1年なんですね。


![]({{ "/images/2021/12/remap-2021-1.webp" | prepend: site.baseurl }})


このエントリでは、2021年、つまり今年の Remap について簡単に振り返りたいと思います。

# 正式公開後の利用状況

2021年3月3日 からの Remap の利用状況を Google Analytics で収集された統計に基づいて振り返ってみます。

まず、ユーザ数の推移です。

![]({{ "/images/2021/12/remap-2021-2.webp" | prepend: site.baseurl }})


おかげさまで、徐々にではありますが、右肩上がりです。12月1日に一回スパイクがあるのですが、原因が全くわかりません。機能リリースも特になかったんですけど、なんででしょ？

次に、Remap 内で何がどれだけ行われているか、Event 発生回数の統計です。


![]({{ "/images/2021/12/remap-2021-3.webp" | prepend: site.baseurl }})


ページビューやユーザエンゲージメントが多いのは当然として、第3位に来ているイベントは「configure/flash」です。これは「Remap 上でカスタマイズしたキーマップを MCU に書き込んだ（フラッシュした）回数」です。Remap は「ウェブブラウザからキーマップをカスタマイズするためのウェブアプリ」としてスタートしました。キーマップの書き込み回数が全体の1位なのも、納得です。

興味深い点としては、「configure/open」イベント、つまり Remap で何らかのキーボードを接続してキーマップが表示された回数よりも、MCU への書き込み回数のほうが多いことです。Remap でのキーマップの1回のカスタマイズにつき複数回 MCU への書き込みが行われていることが、この統計値からわかります。

ちなみに、「configure/flash」の回数の推移が以下です。


![]({{ "/images/2021/12/remap-2021-4.webp" | prepend: site.baseurl }})


100 回から 300 回の間を推移していることがわかります。

次に多いイベントが、「catalog/search」イベントです。これは、Remap のキーボードカタログにて検索が行われた回数を示しています。

そして個人的に興味深いと思っていることとして、「configure/restore_keymap」イベントが上位に来ています。これは、カスタマイズしたキーマップを Remap のサーバに保存しておいて、それを復元したときの回数です。Remap では、自分が保存したキーマップだけでなく、他のユーザが公開しているキーマップからも復元することができます。

キーボードのキーアサインのバリエーションは無限ですし、アプリケーションや OS の違いによっても、適したキーマップは変化します。Remap が提供するキーマップのカスタマイズをより幅広いものにするために、キーマップの保存、復元、シェアは最低限必要な機能だと思っていました。この「configure/restore_keymap」イベントの回数が多いことは、Remap のユーザの方々がこの機能を活用してくれていることを証明していますので、非常に嬉しく思っています。

11 位以下のイベント発生回数です。


![]({{ "/images/2021/12/remap-2021-5.webp" | prepend: site.baseurl }})


「catalog/flash_firmware」イベントは、ファームウェアを MCU に書き込んだ回数を示しています。このファームウェア書き込み機能は、2021年10月24日にリリースしていますので、他の機能に比べてリリースから日数があまり経過していません。


![]({{ "/images/2021/12/remap-2021-6.webp" | prepend: site.baseurl }})


自作キーボードキットは、組み立てた後に最初に行うこととして「MCU へのファームウェアの書き込み」をすることを求められることが多いです。Remap 開発チームとしては、自作キーボードキットを買ってきてから活用できるようになるまでに立ちはだかる壁たちをできるだけ低くしてあげたいと思っています。ファームウェア書き込み機能はその中でも重要な機能と考えていました。今後より多くのキーボード作者が Remap にファームウェアを登録し、多くのユーザたちが Remap を使ってファームウェア書き込みをスムーズに行えることを願っています。

次に、Remap はどの国からアクセスされているかを見てみます。


![]({{ "/images/2021/12/remap-2021-7.webp" | prepend: site.baseurl }})


圧倒的に日本からのアクセスです。2位の米国、3位の中国と比べても、日本がダントツです。

Remap 開発チームとしては、もちろん日本国内で販売されているキーボードを最初のターゲットとして考えていましたし、それに連れて Remap 上でキーマップをカスタマイズするユーザも日本国内に在住している方々から立ち上がっていくだろう、と想像していました。とはいえ、海外からの Remap へのアクセスも増えていって欲しかったのですが、残念ながら Remap の初年度は実現しなかったと言えるでしょう。今後の大きな課題です。

Remap は Chromium 系のウェブブラウザである Chrome と Edge に対応していますが、Remap にアクセスした OS についての統計も見てみましょう。


![]({{ "/images/2021/12/remap-2021-8.webp" | prepend: site.baseurl }})


Windows からのアクセスが最も多く、しかも増加傾向です。次に macOS  です。まあ順当でしょう。Linux からのアクセスのほとんどは、僕じゃないかなと思っています。

グラフではなく、表も見てみましょう。


![]({{ "/images/2021/12/remap-2021-9.webp" | prepend: site.baseurl }})


iOS や Android といったモバイル端末からのアクセスについては、おそらくキーボードカタログ機能の利用かなと思います。Chrome OS からのアクセスは、きっとそれも僕ですね。

そして・・・ FreeBSD や OpenBSD からのアクセスが 1 回ずつ記録されています。これは、僕ではありません。残念ながら継続して利用してはいただけなかったようですが、意外な OS からのアクセスということで、ここに残しておきたく、紹介してみました。

Remap には、数多くのキーボードが登録されています。2021年12月29日現在、250 個のキーボードが登録されています。Remap の公開から今日まで、キーボード登録数は以下のような推移となりました。


![]({{ "/images/2021/12/remap-2021-10.webp" | prepend: site.baseurl }})



公開して1年でこの登録数は、作者の僕としても驚きです。本当にありがたいです。今後もより多くのキーボードを登録していただけるように、改善を繰り返していこうと思います。

# 今年開発した機能たち

Remap は開発を始めてから1年しか経っていないので、今年開発した機能とは、Remap の全ての機能ということになってしまいますね。Remap 開発チームが心をこめて開発した機能たちを、ここで紹介してみましょう。

「キーマップカスタマイズ機能」


![]({{ "/images/2021/12/remap-2021-11.webp" | prepend: site.baseurl }})


「LED 制御機能」


![]({{ "/images/2021/12/remap-2021-12.webp" | prepend: site.baseurl }})


「キーマップ PDF 出力機能」


![]({{ "/images/2021/12/remap-2021-13.webp" | prepend: site.baseurl }})


「キースイッチマトリクステスト機能」


![]({{ "/images/2021/12/remap-2021-14.webp" | prepend: site.baseurl }})


「キーマップ保存、復元、シェア機能」


![]({{ "/images/2021/12/remap-2021-15.webp" | prepend: site.baseurl }})


「マクロ機能」


![]({{ "/images/2021/12/remap-2021-16.webp" | prepend: site.baseurl }})


「キーボードカタログ機能」


![]({{ "/images/2021/12/remap-2021-17.webp" | prepend: site.baseurl }})


「ファームウェア書き込み機能」


![]({{ "/images/2021/12/remap-2021-18.webp" | prepend: site.baseurl }})


これら以外にも、キーボード登録者向けの管理機能や、Remap 開発チーム向けの管理機能を作ってきました。もちろん、みなさんが安心して Remap を利用することができるように、利用規約やレビューポリシーの策定も行っています。

* [Remap Terms of Use](https://remap-keys.app/docs/terms_of_use)
* [Remap Review Policy](https://remap-keys.app/docs/review_policy)

Remap が多くの方々に受け入れられた大きな要因としては、キーマップのカスタマイズの UI について「誰でも直感的に操作ができること」を目標に深く考えられた設計を [adamrocker (@adamrocker)](https://twitter.com/adamrocker) が担ってくれたことがあげられます。彼は、わかりやすい UI とはなにかを本質的に考え、妥協をせずに検討してくれました。日々、彼は Remap がより良くなるよう、考えてくれています。

今年作ってきた Remap の機能群により、以下のストーリーの各フェーズで Remap が皆さんの助けができるようになったかな、と思っています。

* 自作キーボードを買おうかな、と悩んでいる。
  * Remap のキーボードカタログ機能にて好みのキーボードキットを探すことができる。
* 自作キーボードを買って、組み立て終わった。
  * Remap から MCU にファームウェアを書き込むことができる。
  * 各キーの打鍵がちゃんと認識されるかどうか、Remap のキーマトリクステスト機能で確認できる。
* 自作キーボードを使い始めた。
  * 他のユーザのキーマップを自分のキーボードに適用する。
  * 自分にあったキーマップをカスタマイズすることができる。
  * キーボードに搭載された LED の光具合を変更できる。

元々 Remap を作り始めたときに想像していた機能は、今年なんとか開発することができたかな、と思っています。

# さぁ〜て、来年の Remap は？

サザエさんの予告的なノリを出してみましたが、個人的に来年 Remap でチャレンジしたいこととしては、以下があります。

* 個人のキーボード作者だけでなく、お店や法人の方々にも間口を広げていきたい。
* 海外の方々からもっと使われるようになっていきたい。
* QMK Firmware 以外のファームウェアにも対応していきたい。
* キーボード作者向けの機能も何かリリースしていきたい。
* ユーザの方々がコミュニケーションを楽しめる場にしていきたい。

そして、もっと多くの方々と Remap を開発していきたいな、とも思っています。Remap はオープンソースソフトウェアとして、GitHub にてすべてのソースコードを公開しています。

[remap-keys](https://github.com/remap-keys)

ソフトウェアエンジニアの方々から Pull request をいただけることが何よりも嬉しいことですが、Pull Request を出しやすい環境も整備していければと思っています。Remap のコードセットも大きくなってきましたので、どこで何をやっているのか、解説なども追加していければいいなと思っています。

皆さんと共に Remap を育てていきたいと願っていますので、ぜひ様々なご意見をお寄せください！

