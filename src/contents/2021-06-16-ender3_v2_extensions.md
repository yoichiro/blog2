---
layout: post
title: 4月に買ったEnder3-V2の現状
categories:
- 3D Printer
---

Lunakey Miniのケース作りのために、4月にEnder3-V2という3Dプリンタを購入しました。

[Lunakey Miniのケースを作り始めた話](https://www.eisbahn.jp/yoichiro/2021/04/lunakey_mini_case.html)

[Lunakey Miniのケースを販売中です！](https://www.eisbahn.jp/yoichiro/2021/06/lunakey_mini_case.html)

[余白大きめのケースを作ってみた話](https://www.eisbahn.jp/yoichiro/2021/06/lunakey_mini_big_case.html)

最初はアクリル板で基板をサンドウィッチしていたLunakey Miniですが、作者である僕はその形状は卒業していまして、インテグレーティッドマウントケース（トッププレートがケースと一体化されている形態）がお気に入りとなっています。


![]({{ "/images/2021/06/ender3-v2-extensions-1.webp" | prepend: site.baseurl }})


[BOOTHにてケース販売](https://yoichiro.booth.pm/items/2530075) もさせていただいておりますが、おかげさまでちょこちょこ買っていただけていまして、その度に在庫補充のため、Ender3-V2はかなりの稼働率となっています。

4月10日に購入したのですが、組み立て直後はこんな感じでした。


![]({{ "/images/2021/06/ender3-v2-extensions-2.webp" | prepend: site.baseurl }})


これを書いている6月16日現在は、こんな感じになっています。


![]({{ "/images/2021/06/ender3-v2-extensions-3.webp" | prepend: site.baseurl }})


何やらいろいろと取り付けられてるな、というのがわかるかと思います。Ender3シリーズは購入していろいろと改造している方が多そうですが、より使いやすく、より安定してモノづくりをしたい、と考えていった結果、こうなりました。

このエントリでは、取り付けていった順に、何を追加していったのか紹介したいと思います。

# 工具置き

買った後しばらくは、六角レンチやニッパーなどの工具を、本体の下にある引き出しにしまっていました。「たいして使う機会はないだろう」と最初は思っていたのですが、結構な頻度で使うんです。特に、ニッパーはフィラメントの交換の度に使いますし、そもそも造形物をベッドから剥がす際に使うヘラは、引き出しに入りません。

何とかならんかなぁ、工具入れを設計しないとかなぁ、と思っていましたが、同じことを考えた先人がモデルを公開してくれていました。

[Ender 3 Tool Holder by Mattwall - Thingiverse](https://www.thingiverse.com/thing:3877505)


![]({{ "/images/2021/06/ender3-v2-extensions-4.webp" | prepend: site.baseurl }})


フレームの上部に取り付けることができます。Ender3-V2に付属されている工具類は、ヘラも含めて、全てこの工具入れに収めることが可能です。

改造の最初の一歩としては、大満足の部品でした。これだけで面倒さがかなり減りました。

# フィラメントガイド

次に気になっていたことが、フィラメントについてです。Ender3-V2では、フィラメントのリールはフレームの上部に置きます。そして、エクストルーダーにてヘッドに送られるのですが、リールからエクストルーダーまで、ほぼ垂直なんです。そして、エクストルーダーのフィラメント導入口は水平なので、90度近い曲がり方をフィラメントにさせることになります。

まあそれでも問題はないのかもしれませんが、それにしても急角度で送り込まないといけないので、もう少しゆとりを作りたいな、と思っていました。

はい、やはり同じことを考えた人が多いわけで、その角度を緩めるためのフィラメントガイドのモデルが結構多く公開されています。僕はその中から以下をチョイスしました。

[Ender 3 filament guide by Macromoon - Thingiverse](https://www.thingiverse.com/thing:3223697)


![]({{ "/images/2021/06/ender3-v2-extensions-5.webp" | prepend: site.baseurl }})


先ほどの工具入れと同じように、このフィラメントガイドもフレームの上部に差し込んで使うことができます。

これにより、何もないよりはフィラメントの送り込みがスムーズになったかなと思います。

# BL Touchによるオートレベリング

Ender3-V2を購入してから多くの造形物を作ってきましたが、出力の度に悩みの種だった点は、やはりレベリングです。ベッドとノズルの距離を0.15〜0.2mmの間に調整しないといけないという「人間がやることではない」であろうことを強いられてきました。

しかも、ベッドの4隅にあるネジをそれぞれ回しながら、ベッドのどの点においても同じ距離を保たないといけません。あるネジを回して高さを変えると、それに連動して他の高さも変わります。つまり、4つのネジをそれぞれ調整しただけでは全くもって足りないのです。何周も何周もして、高さを合わせていきます。そして、ちゃんと出力されるかどうかは、出力してみないとわかりません。ひどいときには、1時間では終わらない作業です。

こんなこと本当に人間がやることではなく、なんとか自動化できないものかと思っていたのですが、はい、便利な拡張パーツが販売されていました。それが、BL Touch です。

[Creality 3d® ender-3 v2 upgraded kit of bl touch self leveling sensor for 3d printer Sale - Banggood.com](https://www.banggood.com/Creality-3D-Ender-3-V2-Upgraded-Kit-of-BL-Touch-Self-Leveling-Sensor-for-3D-Printer-p-1773166.html?rmmds=myorder&cur_warehouse=GWTR)


![]({{ "/images/2021/06/ender3-v2-extensions-6.webp" | prepend: site.baseurl }})


これは、基準点となるベッドの中央はヘッドとベッドの距離を自分で調整することになるのですが、その基準点の高ささえ決めてしまえば、あとはBL Touchがベッドの9点（四隅、中央、辺の中央）の高さを自動的に測定し、ヘッドとベッドの高さを基準点で決めた高さになるべく自動的にZ軸の高さを調整してくれる、という超便利なパーツです。

しかも、Ender3V2を買って本当に良かったと思った点としては、Ender3V2についてくるマザーボードは最初から32ビットのチップが搭載されていて、しかもBL Touchを接続するためのコネクタも準備されています。つまり、基板にあるコネクタに挿してファームウェアをアップデートするだけで、BL Touchのセットアップは完了です。なんて簡単なんでしょう！

BL Touch導入前までは、レベリングは運任せなところがあり、1層目の出力を多少失敗しても（多少どころか剥がれまくっても）まあ2層目以降でリカバリできればいいかな、程度でした。BL Touch導入後は、失敗することが本当に減りましたし、本当にキレイに1層目を出力できるようになりました。


![]({{ "/images/2021/06/ender3-v2-extensions-7.webp" | prepend: site.baseurl }})


標準装備になぜなっていないんだろう？って思うくらい、購入してよかったと心底思っているパーツとなります。

# OctoPrintによる遠隔監視

BL Touchの導入によって、比較的安定してきた造形物の出力ですが、大きめのケースを出力しようとすると、実は14時間以上かかってしまいます。その間ずっと3Dプリンタの前にいることは非現実的ですし、普段仕事を1Fでしていて、Ender3-V2は2Fに置いている、という事情もあって、手元にないEnder3-V2の出力状況をなんとか手軽に監視する方法はないか、と探していました。

そこで見つけたのが、OctoPrintです。

[OctoPrint.org](https://octoprint.org/)

OctoPrintは、Ender3-V2とUSBのシリアル通信で接続されたRaspberry Piにて動作します。手元のパソコンからウェブブラウザでアクセスすることができて、Ender3-V2の操作をほとんど指示することが可能です。


![]({{ "/images/2021/06/ender3-v2-extensions-8.webp" | prepend: site.baseurl }})


OctoPrint導入の前は、印刷したいstlファイルをCuraを使ってgcode形式に変換し、そのgcodeファイルをSDカードに保存、SDカードをEnder3-V2に挿して読み込ませて出力、という手順を行っていました。これがまた面倒だったのですが、OctoPrintの導入によりSDカードでの運用とはおさらばできます。

Curaには、OctoPrintと連携するためのプラグインが提供されています。

[OctoPrint Connection - Ultimaker Cura Marketplace](https://marketplace.ultimaker.com/app/cura/plugins/fieldofview/OctoPrintPlugin)

これを導入することによって、Curaでスライスした結果を直接OctoPrint経由でEnder3-V2に出力することが可能になります。Ender3-V2の電源をもちろん入れにいかないといけませんが、電源が入っていさえすれば、Ender3-V2がある部屋にいかなくても、Curaから出力を指示することができるのです。超便利です。

出力が開始されたあとは、gcodeファイルの解析によって、現在何番目のレイヤのどこを出力しているのか、リアルタイムに表示してくれます。また、温度についてももちろんモニタすることが可能です。出力が終わった後にベッドの温度が十分に冷えたことを客観的に知った上で、取りに行くことができます。

OctoPrintを利用するために、今回は Raspberry Pi 3+ を購入しました。

[Amazon.co.jp： LABISTS Raspberry Pi 3 Model b+ ラズベリーパイ 3 b＋ MicroSDHCカード32G/NOOBSシステムプリインストール/カードリーダ /5V/3A スイッチ付電源/高品質HDMIケーブルライン/ヒートシンク/簡単に取り付けケース/日本語取扱説明書/２４ヶ月保証: パソコン・周辺機器](https://www.amazon.co.jp/gp/product/B07FQ9678G/ref=ppx_yo_dt_b_asin_title_o02_s00?ie=UTF8&psc=1)

Raspberry Pi 4 と迷いましたが、4 の場合は CPU を冷やすのにファンが必要になるらしく、3Dプリンタの動作音がそもそもしているのでうるさいとはいえ、ヒートシンクで何とかなるであろう 3+ を今回は選択しました。値段が少し安いことと、利用用途は OctoPrint のみなのでスペック的にも十分だろうと思ったことも選択理由です。

# カメラによる視覚的な監視

OctoPrintを導入したもう一つの動機は、カメラによる遠隔監視も可能だということです。Raspberry Pi の USB 端子にウェブカメラを接続するだけで、ウェブブラウザにて OctoPrint の画面に映像が配信されてきます。


![]({{ "/images/2021/06/ender3-v2-extensions-9.webp" | prepend: site.baseurl }})


OctoPrintにはngrokプラグインが提供されていて、これを使って外出先でも出力状況の映像を見ることができ、ちょっと失敗していそうな時はもちろん停止させることも可能です。すごいですよね。

そんなに良いカメラでなくても良いかな、と思っていましたが、結局いま使っているのは、ノジマ電気で買ってきた以下のウェブカメラです。

[USB-CAM01](https://www.planex.co.jp/products/usb-cam01/)


![]({{ "/images/2021/06/ender3-v2-extensions-10.webp" | prepend: site.baseurl }})


カメラの導入によって、出力の映像を見ながら仕事ができるようになりました。これでますます仕事中は席を立たなくなってしまいました。健康的には良くないですね。

# カメラを取り付ける台

ウェブカメラは一般的にはディスプレイの上に置くことが想定されていて、そのため形状をしています。最初はEnder3-V2の隣に木の板を重ねて台を作り、その上にカメラを設置していたのですが、どうにも見た目的はかっこ悪いです。

そこで、カメラをEnder3-V2の筐体の一部に取り付けるための台を探しました。かなりの数が公開されているのですが、ジョイントがあって曲げられるようなものではなく、シンプルに正面から撮影できればそれでいいかなと思い、以下を出力してみました。

[Ender 3 V2 Webcam Halterung Front z.B. Logitech c920 / camera mount by MaTzE_287 - Thingiverse](https://www.thingiverse.com/thing:4740839)


![]({{ "/images/2021/06/ender3-v2-extensions-11.webp" | prepend: site.baseurl }})


購入したカメラには三脚に取り付けるためのネジ穴があって、上記の台にも穴が開いています。家に転がっていた1/4ネジとナットでカメラを固定しました。

# まとめ

以上のパーツ群を取り付けた結果、Ender3-V2は冒頭に紹介した通りの姿となりました。


![]({{ "/images/2021/06/ender3-v2-extensions-12.webp" | prepend: site.baseurl }})


とりあえずはやるべきことはやった感があります。あとは消耗品系を随時交換していけば良いかな、という感じです。

まあ、ここまでやっても、実は失敗する時はあります。ただ、その場合の失敗は、Curaにてパラメータを調整することで回避することができる系の問題ばかりです。少なくとも、レベリングの調整不足、という失敗要因をある程度取り除いた上でCuraの設定値を変化させて改善していくことができるようになったことは、本当に大きい進歩です。

今後もスキルを上げていきたいと思っています。

