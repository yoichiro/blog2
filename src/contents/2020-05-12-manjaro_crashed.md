---
layout: post
title: Manjaro Linuxでアップデート後にSDDMがクラッシュ
categories:
- My PC environment
---

Ryzen7 3700xやGeForce 2060を搭載して3月中旬に組んだ自作PCですが、OSとしてManjaro Linux（KDE版）を入れて使っていました。Manjaro Linuxではローリングリリースが採用されていて、結構頻繁にパッケージのアップデート通知が来ていました。Arch Linuxほどの頻度ではなく、動作確認がArch Linuxよりはしっかりとされてからリリースされるという触れ込みを聞いていたので、何の躊躇もなくサクサクと更新を続けてきました。

Arch Linuxを使っていたときには、ある日突然Gnomeのアップデートによりいろいろなものが動かなくなる状況に陥り、その日を境に一切アップデートが怖くてできなくなった、という苦い思い出があります。が、そんなことをすっかり忘れながら、Manjaro Linuxを更新し続けました。

そして、今日。同じようにいくつかのパッケージの更新通知が来ていたので、ロクにその内容を見ることなく、更新をかけ、Linux Kernelのバージョンアップも来ていたため、アップデート後に再起動をかけました。

その結果・・・SDDMがクラッシュして、GUIが起動しなくなりました。

具体的には、SDDMの起動（ `systemctl start sddm.service` ）に失敗していました。ログを見てみると、 `nvidia-gpu timeout error` というエラーメッセージが出ていました。そのメッセージを見た瞬間、「あ、これはきっとどうしようもないかもしれないな」と思ってしまい、頑張って復旧させようという気持ちがなくなっていきました。。。

仕事での開発で快適に使っていたので、その環境がクラッシュしてしまったのは辛いですが、まあ仕方がない。が、Manjaro Linux を使い続けてこういったクラッシュを再度起こしたくはない。5秒ほど考えて出した答えは、

「よし、Kubuntu 20.04 に浮気しよう」

です。すぐにインストールメディアを作り、潔く Manjaro Linux を入れていたディスクを全消しし、Kubuntu 20.04 のインストールに勤しみました。今日一日かかったけど、一通りのインストールは終わり、元の快適な環境をほぼ取り戻しました。

Docker や GitHub、各種ウェブサービスの利用によって、OS クラッシュ時もそんなにダメージを受けることはなくなりました。が、しばらくは Kubuntu 君には安定稼働を期待したいものです。
